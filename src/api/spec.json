{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/api/auth/password":{"put":{"tags":["auth-controller"],"operationId":"updatePassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthUpdatePasswordRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{}}}}},"/api/message/send":{"post":{"tags":["message-controller"],"operationId":"sendMessage","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSendRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ChatSendResponse"}}}}}}},"/api/listing":{"get":{"tags":["listing-controller"],"operationId":"getPaginated","parameters":[{"name":"page","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"size","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"priceLower","in":"query","required":false,"schema":{"type":"integer","format":"int32"}},{"name":"priceUpper","in":"query","required":false,"schema":{"type":"integer","format":"int32"}},{"name":"categories","in":"query","required":false,"schema":{"type":"array","items":{"type":"string"}}},{"name":"query","in":"query","required":false,"schema":{"type":"string"}},{"name":"sort","in":"query","required":false,"schema":{"type":"string"}},{"name":"sortDirection","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetPaginatedResponse"}}}}}},"post":{"tags":["listing-controller"],"operationId":"create","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListingCreateRequest"}}},"required":true},"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ListingCreateResponse"}}}}}}},"/api/listing/{id}/sell/{phone}":{"post":{"tags":["listing-controller"],"operationId":"markAsSold","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"phone","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{}}}}},"/api/listing/reserve/{id}":{"post":{"tags":["listing-controller"],"operationId":"reserve","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{}}}}},"/api/image/upload":{"post":{"tags":["image-controller"],"operationId":"upload","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}},"required":["file"]}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UploadImageResponse"}}}}}}},"/api/category/create":{"post":{"tags":["category-controller"],"operationId":"create_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryCreateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{}}}}},"/api/auth/register":{"post":{"tags":["auth-controller"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRegisterRequest"}}},"required":true},"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthRegisterResponse"}}}}}}},"/api/auth/login":{"post":{"tags":["auth-controller"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthLoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthLoginResponse"}}}}}}},"/api/user/profile":{"get":{"tags":["user-controller"],"operationId":"getProfile","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProfileGetResponse"}}}}}},"patch":{"tags":["user-controller"],"operationId":"updateProfile","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileUpdateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProfileUpdateResponse"}}}}}}},"/api/listing/{id}":{"get":{"tags":["listing-controller"],"operationId":"get","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ListingDTO"}}}}}},"delete":{"tags":["listing-controller"],"operationId":"delete","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{}}}},"patch":{"tags":["listing-controller"],"operationId":"update","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListingUpdateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{}}}}},"/api/category/update":{"patch":{"tags":["category-controller"],"operationId":"update_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryUpdateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{}}}}},"/api/message/history":{"get":{"tags":["message-controller"],"operationId":"getHistory","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"pageSize","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":100}},{"name":"otherUser","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChatMessageDTO"}}}}}}}},"/api/message/contacts":{"get":{"tags":["message-controller"],"operationId":"getContacts","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"pageSize","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":100}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChatContactDTO"}}}}}}}},"/api/listing/personal":{"get":{"tags":["listing-controller"],"operationId":"getOwnListings","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"pageSize","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":100}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ListingDTO"}}}}}}}},"/api/listing/bookmarked":{"get":{"tags":["listing-controller"],"operationId":"bookmarked","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"pageSize","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":100}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BookmarkedListingDTO"}}}}}}}},"/api/image":{"get":{"tags":["image-controller"],"operationId":"download","parameters":[{"name":"imageIds","in":"query","required":true,"schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"string","format":"byte"}}}}}}}},"/api/category":{"get":{"tags":["category-controller"],"operationId":"getAll","parameters":[{"name":"page","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"pageSize","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CategoryDTO"}}}}}}}},"/api/category/delete/{name}":{"delete":{"tags":["category-controller"],"operationId":"delete_1","parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{}}}}}},"components":{"schemas":{"AuthUpdatePasswordRequest":{"type":"object","properties":{"oldPassword":{"type":"string"},"newPassword":{"type":"string"}},"required":["newPassword","oldPassword"]},"ChatSendRequest":{"type":"object","properties":{"recipientId":{"type":"string"},"content":{"type":"string"}},"required":["content","recipientId"]},"ChatSendResponse":{"type":"object","properties":{"id":{"type":"string"},"senderId":{"type":"string"},"recipientId":{"type":"string"},"content":{"type":"string"},"timestamp":{"type":"string","format":"date-time"},"type":{"type":"string","enum":["TEXT","RESERVED","MARKED_SOLD"]}},"required":["content","id","recipientId","senderId","timestamp","type"]},"ListingCreateRequest":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"location":{"$ref":"#/components/schemas/LocationDTO"},"price":{"type":"integer","format":"int32"},"category":{"type":"string"}},"required":["category","description","location","price","title"]},"LocationDTO":{"type":"object","properties":{"lat":{"type":"number","format":"double"},"lon":{"type":"number","format":"double"}},"required":["lat","lon"]},"ListingCreateResponse":{"type":"object","properties":{"id":{"type":"string"}},"required":["id"]},"UploadImageResponse":{"type":"object","properties":{"id":{"type":"string"}},"required":["id"]},"CategoryCreateRequest":{"type":"object","properties":{"name":{"type":"string"}},"required":["name"]},"AuthRegisterRequest":{"type":"object","properties":{"phone":{"type":"string"},"password":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"}},"required":["firstName","lastName","password","phone"]},"AuthRegisterResponse":{"type":"object","properties":{"token":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"role":{"type":"string"}},"required":["firstName","lastName","role","token"]},"AuthLoginRequest":{"type":"object","properties":{"phone":{"type":"string"},"password":{"type":"string"}},"required":["password","phone"]},"AuthLoginResponse":{"type":"object","properties":{"token":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"role":{"type":"string"}},"required":["firstName","lastName","role","token"]},"ProfileUpdateRequest":{"type":"object","properties":{"phone":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"}}},"ProfileUpdateResponse":{"type":"object","properties":{"phone":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"role":{"type":"string"}},"required":["firstName","lastName","phone","role"]},"ListingUpdateRequest":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"price":{"type":"integer","format":"int32"},"category":{"type":"string"},"location":{"$ref":"#/components/schemas/LocationDTO"},"bookmarked":{"type":"boolean"},"imageIds":{"type":"array","items":{"type":"string"}}},"required":["bookmarked","category","description","location","price","title"]},"CategoryDTO":{"type":"object","properties":{"name":{"type":"string"}},"required":["name"]},"CategoryUpdateRequest":{"type":"object","properties":{"oldName":{"type":"string"},"new":{"$ref":"#/components/schemas/CategoryDTO"}},"required":["new","oldName"]},"ProfileGetResponse":{"type":"object","properties":{"phone":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"role":{"type":"string"}},"required":["firstName","lastName","phone","role"]},"ChatMessageDTO":{"type":"object","properties":{"id":{"type":"string"},"senderId":{"type":"string"},"recipientId":{"type":"string"},"content":{"type":"string"},"timestamp":{"type":"string","format":"date-time"},"type":{"type":"string","enum":["TEXT","RESERVED","MARKED_SOLD"]}},"required":["content","id","recipientId","senderId","timestamp","type"]},"ChatContactDTO":{"type":"object","properties":{"phone":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"lastMessageContent":{"type":"string"},"lastMessageTimestamp":{"type":"string","format":"date-time"}},"required":["firstName","lastMessageContent","lastMessageTimestamp","lastName","phone"]},"AuthorDTO":{"type":"object","properties":{"id":{"type":"string"},"phone":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"}},"required":["firstName","id","lastName","phone"]},"GetPaginatedResponse":{"type":"object","properties":{"listings":{"type":"array","items":{"$ref":"#/components/schemas/ListingDTO"}},"totalListings":{"type":"integer","format":"int32"}},"required":["listings","totalListings"]},"ListingDTO":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"location":{"$ref":"#/components/schemas/LocationDTO"},"price":{"type":"integer","format":"int32"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"category":{"$ref":"#/components/schemas/CategoryDTO"},"author":{"$ref":"#/components/schemas/AuthorDTO"},"isReserved":{"type":"boolean"},"isSold":{"type":"boolean"},"imageIds":{"type":"array","items":{"type":"string"}},"isBookmarked":{"type":"boolean"},"reservedBy":{"$ref":"#/components/schemas/AuthorDTO"},"soldTo":{"$ref":"#/components/schemas/AuthorDTO"}},"required":["author","category","createdAt","description","id","imageIds","isBookmarked","isReserved","isSold","location","price","title","updatedAt"]},"BookmarkedListingDTO":{"type":"object","properties":{"bookmarkedAt":{"type":"string","format":"date-time"},"listing":{"$ref":"#/components/schemas/ListingDTO"}},"required":["bookmarkedAt","listing"]}}}}